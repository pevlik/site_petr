<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
  </head>

  <body>
    <script src="./d3.v7.min.js"></script>
    <script src="./d3-org-chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-flextree@2.1.2/build/d3-flextree.js"></script>

    <div class="employee-tree-main">
      <div class="employee-tree-sidebar"> 
        <input type="search" placeholder="Поиск" oninput="filterChart(event)"/>
        <!-- <button onclick='chart.connections([{from:"101",to:"122",label:"Conflicts of interest"}]).render()'>Multi Node Connections</button> -->
        <button onclick="chart.expandAll(true).render().fit()">Раскрыть все дерево</button>
        <button onclick="chart.collapseAll(true).render().fit()">Свернуть дерево</button>
        <button onclick="chart.compact(false).render().fit()">Горизонтально</button>
        <button onclick="chart.compact(true).render().fit()">Вертикально</button>
        <button onclick="chart.clearHighlighting().setCentered(133).setUpToTheRootHighlighted('133').render().fit()">Подсветить 10 отдел</button>
        <button onclick="chart.clearHighlighting().setCentered(148).setUpToTheRootHighlighted('148').render().fit()">Подсветить 14 отдел</button>
        <button onclick="chart.clearHighlighting().setCentered(150).setUpToTheRootHighlighted('150').render().fit()">Подсветить 21 отдел</button>
        <button onclick="chart.clearHighlighting().setCentered(186).setUpToTheRootHighlighted('186').render().fit()">Подсветить 22 отдел</button>
        <button onclick="chart.clearHighlighting().setCentered(202).setUpToTheRootHighlighted('202').render().fit()">Подсветить 24 отдел</button>
        <button onclick="chart.clearHighlighting().setCentered(212).setUpToTheRootHighlighted('212').render().fit()">Подсветить 31 отдел</button>
        <button onclick="chart.clearHighlighting().setCentered(234).setUpToTheRootHighlighted('234').render().fit()">Подсветить 34 отдел</button>
        <button onclick="chart.clearHighlighting().setCentered(246).setUpToTheRootHighlighted('246').render().fit()">Подсветить 41 отдел</button>
        <button onclick="chart.fit()">Отцентровать дерево</button>
        <button onclick="chart.clearHighlighting().setCentered(100).collapseAll().render().fit()">Очистить</button>
        <script>
          const card_id = document.querySelectorAll('.card_id')
          const name = document.querySelector('.position')
          const position = document.querySelector('.name')
          const email = document.querySelector('.email')
    
          // Функция для вывода текста в элемент "div" с классом "text-here"
          function setText(text) {
            name.innerText = text;
            position.innerText = text;
            email.innerText = text;
          }
        </script>             
      </div>

      <div class="chart-container"></div>
      <script src="./chart_scr.js"></script>

      <g class="connections-wrapper"><path class="connection" d="M-877,625C121,625,121,270,1119,270" fill="none" stroke="#E27396" stroke-linecap="round" stroke-width="5" pointer-events="none" marker-start="url(#145_201)" marker-end="url(#arrow-145_201)"></path></g>
    </div>
  </body>

</html>
